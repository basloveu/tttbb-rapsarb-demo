"use strict";(self["webpackChunkrapsarb"]=self["webpackChunkrapsarb"]||[]).push([[234],{4234:function(e,t,a){a.r(t),a.d(t,{default:function(){return L}});var i=a(3396),n=a(7139),l=a(9242),o=a(4870),r=a(65);const s={class:"container"},d={class:"row sticky-top text-dark text-bg-secondary bg-opacity-10 pt-1 pb-2 rounded-5"},m=(0,i._)("div",{class:"col-12 col-md-3 mt-2 h5"},"สรุปการลงทะเบียน",-1),c={class:"col-12 col-md-3 mt-1"},u=(0,i._)("option",{value:"",disabled:""},"หัวข้อหลัก ทั้งหมด",-1),_=["value"],p={class:"col-12 col-md-3 mt-1"},g=(0,i._)("option",{value:""},"หัวข้อย่อย ทั้งหมด",-1),v=["value"],b={class:"col-12 col-md-2 mt-1"},y=(0,i._)("option",{value:"all"},"ทั้งหมด",-1),h=(0,i._)("option",{value:"me"},"เฉพาะฉัน",-1),f=[y,h],w=(0,i._)("i",{class:"bi bi-search"},null,-1),D=[w],x=(0,i._)("div",{id:"table"},null,-1),H={class:"modal fade",id:"detailModal",tabindex:"-1","aria-labelledby":"detailModalLabel","aria-hidden":"true"},k={class:"modal-dialog modal-fullscreen"},C={class:"modal-content"},M={class:"modal-header"},S={class:"modal-title fs-5",id:"detailModalLabel"},T=(0,i._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),z=(0,i._)("div",{class:"modal-body text-center"},[(0,i._)("div",{id:"table2"})],-1);var Y={__name:"summary_register",setup(e){const t=(0,r.oR)(),a=new Grid,y=new Grid,h=(0,o.iH)([]),w=(0,o.iH)([]),Y=(0,o.iH)(""),B=(0,o.iH)(""),L=(0,o.iH)(""),U=(0,o.iH)(""),E=(0,o.iH)(""),I=(0,o.iH)(""),R=(0,o.iH)("all"),V=(0,i.f3)("m_format");(0,i.bv)((()=>{G(),B.value=new bootstrap.Modal(document.getElementById("detailModal"))}));const A=()=>Math.floor(100*Math.random())+1,G=()=>{t.getters.get_eid,E.value,I.value,R.value;h.value=t.getters.get_simulate_db,L.value++,K()},K=()=>{1==L.value&&a.render(document.getElementById("table")),a.updateConfig({columns:[{id:"register_no",name:"🟡เลขที่",fixed:!0,formatter:(e,a)=>html("<center>"+t.getters.get_right_register+e+"</center>")},{id:"m_topic",name:"หัวข้อ",sort:!0,formatter:(e,a)=>{var i="";const n=t.getters.get_m_topic.find((t=>t.key===e));return i=n?n.text:e,html("<center>"+i+"</center>")}},{id:"s_topic",name:"เรื่อง",sort:!0,formatter:(e,a)=>{var i="";const n=t.getters.get_s_topic.find((t=>t.key===e));return i=n?n.text:e,html("<center>"+i+"</center>")}},{id:"keyword",name:"หัวข้อเรื่อง",sort:!0},{id:"login_eid",name:"🧑‍💻ผู้สร้าง"},{id:"date1",name:"📆วันที่สร้าง",formatter:(e,t,a)=>{var i=V(e,"DD-MM-YYYY");return html("<center>"+i+"</center>")}},{id:"total",name:"จำนวนรวม",formatter:(e,t,a)=>{var i="<strong class='pointer'>"+A()+"</strong>";return html("<center>"+i+"</center>")}}],style:{table:{"font-size":"15px"},th:{"text-align":"center"}},sort:!0,search:!0,fixedHeader:!0,pagination:{limit:5},height:"250px",language:{search:{placeholder:"🔍ค้นหา..."},pagination:{previous:"⬅️",next:"➡️",showing:"🤵 แสดงผล",results:()=>"รายการ"}},data:h.value}).forceRender(),a.on("cellClick",((e,t,a,i)=>["total"==a.id?$(i._cells[0].data,i):"1"]))},$=(e,a)=>{Y.value=e,w.value=[{rapsarb_name:A(),emp_id:t.getters.get_right_eid+A(),emp_name:"A Ant",rapsarb_time:(new Date).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric"}),title:"Title",section:"Section",division:"Division",dep_name:"Department",company:"Company"},{rapsarb_name:A(),emp_id:t.getters.get_right_eid+A(),emp_name:"B Bird",rapsarb_time:(new Date).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric"}),title:"Title",section:"Section",division:"Division",dep_name:"Department",company:"Company"},{rapsarb_name:A(),emp_id:t.getters.get_right_eid+A(),emp_name:"C Cat",rapsarb_time:(new Date).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric"}),title:"Title",section:"Section",division:"Division",dep_name:"Department",company:"Company"}],B.value.show(),U.value++,setTimeout((()=>{j()}),500)},j=()=>{1==U.value&&y.render(document.getElementById("table2")),y.updateConfig({columns:[{id:"rapsarb_name",name:"เลขที่"},{id:"emp_id",name:"รหัส"},{id:"emp_name",name:"ชื่อ-นามสกุล"},{id:"rapsarb_time",name:"เวลา"},{id:"title",name:"ตำแหน่ง"},{id:"section",name:"Section"},{id:"division",name:"Division"},{id:"dep_name",name:"Department"},{id:"company",name:"Company"}],style:{table:{"font-size":"15px"},th:{"text-align":"center"}},sort:!0,fixedHeader:!0,data:w.value}).forceRender()};return(e,a)=>((0,i.wg)(),(0,i.iD)("div",s,[(0,i._)("div",d,[m,(0,i._)("div",c,[(0,i.wy)((0,i._)("select",{class:"form-select","onUpdate:modelValue":a[0]||(a[0]=e=>E.value=e)},[u,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.$store.getters.get_m_topic,(e=>((0,i.wg)(),(0,i.iD)("option",{value:e.key},(0,n.zw)(e.text),9,_)))),256))],512),[[l.bM,E.value]])]),(0,i._)("div",p,[(0,i.wy)((0,i._)("select",{class:"form-select","onUpdate:modelValue":a[1]||(a[1]=e=>I.value=e)},[g,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.$store.getters.get_s_topic,(e=>((0,i.wg)(),(0,i.iD)("option",{value:e.key},(0,n.zw)(e.text),9,v)))),256))],512),[[l.bM,I.value]])]),(0,i._)("div",b,[(0,i.wy)((0,i._)("select",{class:"form-select","onUpdate:modelValue":a[2]||(a[2]=e=>R.value=e)},f,512),[[l.bM,R.value]])]),(0,i._)("div",{class:"col-12 col-md-1 mt-1"},[(0,i._)("button",{type:"button",class:"btn btn-primary btn-sm rounded-5",onClick:G},D)])]),x,(0,i._)("div",H,[(0,i._)("div",k,[(0,i._)("div",C,[(0,i._)("div",M,[(0,i._)("h1",S,(0,n.zw)((0,o.SU)(t).getters.get_right_register)+(0,n.zw)(Y.value),1),T]),z])])])]))}};const B=Y;var L=B}}]);
//# sourceMappingURL=234.d64b949e.js.map