{"version":3,"file":"js/234.d64b949e.js","mappings":"4yCAsDA,MAAMA,GAAQC,EAAAA,EAAAA,MACRC,EAAO,IAAIC,KACXC,EAAQ,IAAID,KACZE,GAAaC,EAAAA,EAAAA,IAAI,IACjBC,GAAYD,EAAAA,EAAAA,IAAI,IAChBE,GAAYF,EAAAA,EAAAA,IAAI,IAChBG,GAAcH,EAAAA,EAAAA,IAAI,IAClBI,GAAiBJ,EAAAA,EAAAA,IAAI,IACrBK,GAAiBL,EAAAA,EAAAA,IAAI,IACrBM,GAAUN,EAAAA,EAAAA,IAAI,IACdO,GAAUP,EAAAA,EAAAA,IAAI,IACdQ,GAAcR,EAAAA,EAAAA,IAAI,OAGlBS,GAAgBC,EAAAA,EAAAA,IAAO,aAE7BC,EAAAA,EAAAA,KAAU,KACRC,IACAT,EAAYU,MAAQ,IAAIC,UAAUC,MAChCC,SAASC,eAAe,eACzB,IAEH,MAAMC,EAAkBA,IACfC,KAAKC,MAAsB,IAAhBD,KAAKE,UAAkB,EAErCT,EAAeA,KAEZlB,EAAM4B,QAAQC,QACbjB,EAAQO,MACRN,EAAQM,MACRL,EAAYK,MAGpBd,EAAWc,MAAQnB,EAAM4B,QAAQE,gBACjCpB,EAAeS,QACfY,GAAW,EAEPA,EAAYA,KACY,GAAxBrB,EAAeS,OACjBjB,EAAK8B,OAAOV,SAASC,eAAe,UAGtCrB,EACG+B,aAAa,CACZC,QAAS,CACP,CACEC,GAAI,cACJC,KAAM,WACNC,OAAO,EACPC,UAAWA,CAACC,EAAMC,IAETC,KAAK,WAAazC,EAAM4B,QAAQc,mBAAqBH,EAAO,cAGvE,CACEJ,GAAI,UACJC,KAAM,SACNO,MAAM,EACNL,UAAWA,CAACC,EAAMC,KAChB,IAAII,EAAO,GACX,MAAMC,EAAS7C,EAAM4B,QAAQkB,YAAYC,MAAKC,GAAOA,EAAIC,MAAQV,IAMjE,OAJEK,EADEC,EACKA,EAAOD,KAEPL,EAEFE,KAAK,WAAaG,EAAO,YAAY,GAGhD,CACET,GAAI,UACJC,KAAM,SACNO,MAAM,EACNL,UAAWA,CAACC,EAAMC,KAChB,IAAII,EAAO,GACX,MAAMM,EAASlD,EAAM4B,QAAQuB,YAAYJ,MAAKC,GAAOA,EAAIC,MAAQV,IAMjE,OAJEK,EADEM,EACKA,EAAON,KAEPL,EAEFE,KAAK,WAAaG,EAAO,YAAY,GAGhD,CACET,GAAI,UACJC,KAAM,eACNO,MAAM,GAER,CACER,GAAI,YACJC,KAAM,iBAER,CACED,GAAI,QACJC,KAAM,gBACNE,UAAWA,CAACc,EAAGb,EAAMc,KACnB,IAAIT,EAAO7B,EAAcqC,EAAG,cAC5B,OAAOX,KAAK,WAAaG,EAAO,YAAY,GAGhD,CACET,GAAI,QACJC,KAAM,WACNE,UAAWA,CAACc,EAAGb,EAAMc,KACnB,IAAIT,EAAO,2BAA6BpB,IAAoB,YAC5D,OAAOiB,KAAK,WAAaG,EAAO,YAAY,IAIlDU,MAAO,CACLC,MAAO,CACL,YAAa,QAEfC,GAAI,CACF,aAAc,WAGlBb,MAAM,EACNc,QAAQ,EACRC,aAAa,EACbC,WAAY,CACVC,MAAO,GAETC,OAAQ,QACRC,SAAU,CACRL,OAAQ,CACNM,YAAa,cAEfJ,WAAY,CACVK,SAAU,KACVC,KAAM,KACNC,QAAS,YACTC,QAASA,IAAM,WAGnBC,KAAM/D,EAAWc,QAElBkD,cAGHnE,EAAKoE,GAAG,aAAa,CAAClB,EAAGb,EAAMc,EAAQb,IAAQ,CAChC,SAAba,EAAOlB,GACHoC,EAAkB/B,EAAIgC,OAAO,GAAGJ,KAAM5B,GACtC,MACJ,EAEE+B,EAAoBA,CAACE,EAAQC,KACjClE,EAAUW,MAAQsD,EAClBlE,EAAUY,MAAQ,CAChB,CACEwD,aAAcnD,IACdoD,OAAQ5E,EAAM4B,QAAQiD,cAAgBrD,IACtCsD,SAAU,QACVC,cAAc,IAAIC,MAAOC,mBAAmB,QAAS,CACnDC,KAAM,UACNC,MAAO,OACPC,IAAK,YAEPC,MAAO,QACPC,QAAS,UACTC,SAAU,WACVC,SAAU,aACVC,QAAS,WAEX,CACEd,aAAcnD,IACdoD,OAAQ5E,EAAM4B,QAAQiD,cAAgBrD,IACtCsD,SAAU,SACVC,cAAc,IAAIC,MAAOC,mBAAmB,QAAS,CACnDC,KAAM,UACNC,MAAO,OACPC,IAAK,YAEPC,MAAO,QACPC,QAAS,UACTC,SAAU,WACVC,SAAU,aACVC,QAAS,WAEX,CACEd,aAAcnD,IACdoD,OAAQ5E,EAAM4B,QAAQiD,cAAgBrD,IACtCsD,SAAU,QACVC,cAAc,IAAIC,MAAOC,mBAAmB,QAAS,CACnDC,KAAM,UACNC,MAAO,OACPC,IAAK,YAEPC,MAAO,QACPC,QAAS,UACTC,SAAU,WACVC,SAAU,aACVC,QAAS,YAGbhF,EAAYU,MAAMuE,OAClB/E,EAAeQ,QACfwE,YAAW,KACTC,GAAY,GACX,IAAI,EAEHA,EAAaA,KACW,GAAxBjF,EAAeQ,OACjBf,EAAM4B,OAAOV,SAASC,eAAe,WAGvCnB,EACG6B,aAAa,CACZC,QAAS,CACP,CACEC,GAAI,eACJC,KAAM,UAER,CACED,GAAI,SACJC,KAAM,QAER,CACED,GAAI,WACJC,KAAM,gBAER,CACED,GAAI,eACJC,KAAM,QAER,CACED,GAAI,QACJC,KAAM,WAER,CACED,GAAI,UACJC,KAAM,WAER,CACED,GAAI,WACJC,KAAM,YAER,CACED,GAAI,WACJC,KAAM,cAER,CACED,GAAI,UACJC,KAAM,YAGVkB,MAAO,CACLC,MAAO,CACL,YAAa,QAEfC,GAAI,CACF,aAAc,WAGlBb,MAAM,EACNe,aAAa,EACbU,KAAM7D,EAAUY,QAEjBkD,aAAa,E,ukCCtTlB,MAAMwB,EAAc,EAEpB,O","sources":["webpack://rapsarb/./src/views/report/summary_register.vue","webpack://rapsarb/./src/views/report/summary_register.vue?0fe3"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row sticky-top text-dark text-bg-secondary bg-opacity-10 pt-1 pb-2 rounded-5\">\n      <div class=\"col-12 col-md-3 mt-2 h5\">‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</div>\n      <div class=\"col-12 col-md-3 mt-1\">\n        <select class=\"form-select\" v-model=\"m_topic\">\n          <option value=\"\" disabled>‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏´‡∏•‡∏±‡∏Å ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>\n          <option :value=\"value.key\" v-for=\"value in $store.getters.get_m_topic\">\n            {{ value.text }}\n          </option>\n        </select>\n      </div>\n      <div class=\"col-12 col-md-3 mt-1\">\n        <select class=\"form-select\" v-model=\"s_topic\">\n          <option value=\"\">‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏¢‡πà‡∏≠‡∏¢ ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>\n          <option :value=\"value.key\" v-for=\"value in $store.getters.get_s_topic\">\n            {{ value.text }}\n          </option>\n        </select>\n      </div>\n      <div class=\"col-12 col-md-2 mt-1\">\n        <select class=\"form-select\" v-model=\"sub_serach1\">\n          <option value=\"all\">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>\n          <option value=\"me\">‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏â‡∏±‡∏ô</option>\n        </select>\n      </div>\n      <div class=\"col-12 col-md-1 mt-1\">\n        <button type=\"button\" class=\"btn btn-primary btn-sm rounded-5\" v-on:click=\"load_summary\">\n          <i class=\"bi bi-search\"></i>\n        </button>\n      </div>\n    </div>\n    <div id=\"table\"></div>\n    <div class=\"modal fade\" id=\"detailModal\" tabindex=\"-1\" aria-labelledby=\"detailModalLabel\" aria-hidden=\"true\">\n      <div class=\"modal-dialog modal-fullscreen\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h1 class=\"modal-title fs-5\" id=\"detailModalLabel\">\n              {{ store.getters.get_right_register }}{{ search_id }}\n            </h1>\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n          </div>\n          <div class=\"modal-body text-center\">\n            <div id=\"table2\"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script setup>\nimport { ref, reactive, computed, onMounted, inject } from \"vue\";\nimport { useStore } from \"vuex\";\n\nconst store = useStore();\nconst grid = new Grid();\nconst grid2 = new Grid();\nconst db_summary = ref([]);\nconst db_detail = ref([]);\nconst search_id = ref(\"\");\nconst detailModal = ref(\"\");\nconst CountModalNum1 = ref(\"\");\nconst CountModalNum2 = ref(\"\");\nconst m_topic = ref(\"\");\nconst s_topic = ref(\"\");\nconst sub_serach1 = ref(\"all\");\n\n//include fuction root page App.vue\nconst moment_format = inject(\"m_format\");\n\nonMounted(() => {\n  load_summary();\n  detailModal.value = new bootstrap.Modal(\n    document.getElementById(\"detailModal\")\n  );\n});\nconst getRandomNumber = () => {\n  return Math.floor(Math.random() * 100) + 1;\n}\nconst load_summary = () => {\n  var arr = {\n    key: store.getters.get_eid,\n    key2: m_topic.value,\n    key3: s_topic.value,\n    key4: sub_serach1.value,\n  };\n\n  db_summary.value = store.getters.get_simulate_db;\n  CountModalNum1.value++;\n  set_table();\n};\nconst set_table = () => {\n  if (CountModalNum1.value == 1) {\n    grid.render(document.getElementById(\"table\"));\n  } else {\n  }\n  grid\n    .updateConfig({\n      columns: [\n        {\n          id: \"register_no\",\n          name: \"üü°‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà\",\n          fixed: true,\n          formatter: (cell, row) => {\n            var text = '<i class=\"bi bi-search text-primary pointer\"></i>';\n            return html(\"<center>\" + store.getters.get_right_register + cell + \"</center>\");\n          },\n        },\n        {\n          id: \"m_topic\",\n          name: \"‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠\",\n          sort: true,\n          formatter: (cell, row) => {\n            var text = \"\";\n            const foundM = store.getters.get_m_topic.find(db1 => db1.key === cell);\n            if (foundM) {\n              text = foundM.text;\n            } else {\n              text = cell;\n            }\n            return html(\"<center>\" + text + \"</center>\");\n          },\n        },\n        {\n          id: \"s_topic\",\n          name: \"‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á\",\n          sort: true,\n          formatter: (cell, row) => {\n            var text = \"\";\n            const foundS = store.getters.get_s_topic.find(db1 => db1.key === cell);\n            if (foundS) {\n              text = foundS.text;\n            } else {\n              text = cell;\n            }\n            return html(\"<center>\" + text + \"</center>\");\n          },\n        },\n        {\n          id: \"keyword\",\n          name: \"‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á\",\n          sort: true,\n        },\n        {\n          id: \"login_eid\",\n          name: \"üßë‚Äçüíª‡∏ú‡∏π‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á\",\n        },\n        {\n          id: \"date1\",\n          name: \"üìÜ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á\",\n          formatter: (e, cell, column) => {\n            var text = moment_format(e, \"DD-MM-YYYY\");\n            return html(\"<center>\" + text + \"</center>\");\n          },\n        },\n        {\n          id: \"total\",\n          name: \"‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏ß‡∏°\",\n          formatter: (e, cell, column) => {\n            var text = \"<strong class='pointer'>\" + getRandomNumber() + \"</strong>\";\n            return html(\"<center>\" + text + \"</center>\");\n          },\n        },\n      ],\n      style: {\n        table: {\n          \"font-size\": \"15px\",\n        },\n        th: {\n          \"text-align\": \"center\",\n        },\n      },\n      sort: true,\n      search: true,\n      fixedHeader: true,\n      pagination: {\n        limit: 5,\n      },\n      height: \"250px\",\n      language: {\n        search: {\n          placeholder: \"üîç‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤...\",\n        },\n        pagination: {\n          previous: \"‚¨ÖÔ∏è\",\n          next: \"‚û°Ô∏è\",\n          showing: \"ü§µ ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•\",\n          results: () => \"‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£\",\n        },\n      },\n      data: db_summary.value,\n    })\n    .forceRender();\n\n  // DOM instead of vue selector because we are using vanilla JS\n  grid.on(\"cellClick\", (e, cell, column, row) => [\n    column.id == \"total\"\n      ? show_modal_detail(row._cells[0].data, row)\n      : \"1\",\n  ]);\n};\nconst show_modal_detail = (value1, value2) => {\n  search_id.value = value1;\n  db_detail.value = [\n    {\n      rapsarb_name: getRandomNumber(),\n      emp_id: store.getters.get_right_eid + getRandomNumber(),\n      emp_name: \"A Ant\",\n      rapsarb_time: new Date().toLocaleDateString(\"th-TH\", {\n        year: \"numeric\",\n        month: \"long\",\n        day: \"numeric\",\n      }),\n      title: \"Title\",\n      section: \"Section\",\n      division: \"Division\",\n      dep_name: \"Department\",\n      company: \"Company\",\n    },\n    {\n      rapsarb_name: getRandomNumber(),\n      emp_id: store.getters.get_right_eid + getRandomNumber(),\n      emp_name: \"B Bird\",\n      rapsarb_time: new Date().toLocaleDateString(\"th-TH\", {\n        year: \"numeric\",\n        month: \"long\",\n        day: \"numeric\",\n      }),\n      title: \"Title\",\n      section: \"Section\",\n      division: \"Division\",\n      dep_name: \"Department\",\n      company: \"Company\",\n    },\n    {\n      rapsarb_name: getRandomNumber(),\n      emp_id: store.getters.get_right_eid + getRandomNumber(),\n      emp_name: \"C Cat\",\n      rapsarb_time: new Date().toLocaleDateString(\"th-TH\", {\n        year: \"numeric\",\n        month: \"long\",\n        day: \"numeric\",\n      }),\n      title: \"Title\",\n      section: \"Section\",\n      division: \"Division\",\n      dep_name: \"Department\",\n      company: \"Company\",\n    },\n  ];\n  detailModal.value.show();\n  CountModalNum2.value++;\n  setTimeout(() => {\n    set_table2();\n  }, 500);\n};\nconst set_table2 = () => {\n  if (CountModalNum2.value == 1) {\n    grid2.render(document.getElementById(\"table2\"));\n  } else {\n  }\n  grid2\n    .updateConfig({\n      columns: [\n        {\n          id: \"rapsarb_name\",\n          name: \"‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà\",\n        },\n        {\n          id: \"emp_id\",\n          name: \"‡∏£‡∏´‡∏±‡∏™\",\n        },\n        {\n          id: \"emp_name\",\n          name: \"‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•\",\n        },\n        {\n          id: \"rapsarb_time\",\n          name: \"‡πÄ‡∏ß‡∏•‡∏≤\",\n        },\n        {\n          id: \"title\",\n          name: \"‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á\",\n        },\n        {\n          id: \"section\",\n          name: \"Section\",\n        },\n        {\n          id: \"division\",\n          name: \"Division\",\n        },\n        {\n          id: \"dep_name\",\n          name: \"Department\",\n        },\n        {\n          id: \"company\",\n          name: \"Company\",\n        },\n      ],\n      style: {\n        table: {\n          \"font-size\": \"15px\",\n        },\n        th: {\n          \"text-align\": \"center\",\n        },\n      },\n      sort: true,\n      fixedHeader: true,\n      data: db_detail.value,\n    })\n    .forceRender();\n};\n</script>\n","import script from \"./summary_register.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./summary_register.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["store","useStore","grid","Grid","grid2","db_summary","ref","db_detail","search_id","detailModal","CountModalNum1","CountModalNum2","m_topic","s_topic","sub_serach1","moment_format","inject","onMounted","load_summary","value","bootstrap","Modal","document","getElementById","getRandomNumber","Math","floor","random","getters","get_eid","get_simulate_db","set_table","render","updateConfig","columns","id","name","fixed","formatter","cell","row","html","get_right_register","sort","text","foundM","get_m_topic","find","db1","key","foundS","get_s_topic","e","column","style","table","th","search","fixedHeader","pagination","limit","height","language","placeholder","previous","next","showing","results","data","forceRender","on","show_modal_detail","_cells","value1","value2","rapsarb_name","emp_id","get_right_eid","emp_name","rapsarb_time","Date","toLocaleDateString","year","month","day","title","section","division","dep_name","company","show","setTimeout","set_table2","__exports__"],"sourceRoot":""}