"use strict";(self["webpackChunkrapsarb"]=self["webpackChunkrapsarb"]||[]).push([[777,96],{8096:function(e,t,l){l.r(t),l.d(t,{default:function(){return j}});var a=l(3396),s=l(7139),r=l(4870),i=l(65);const o={key:0},d={class:"row sticky-top fw-bolder"},n={class:"col-12 col-md-12 text-center"},c={class:"row mt-2"},u=(0,a._)("div",{class:"col-12 col-md-3"},null,-1),m={class:"col-12 col-md-6"},v={class:"input-group mb-2"},_=["value"],b=["value"],g={class:"row mt-2"},p=(0,a._)("div",{class:"col-12 col-md-3"},null,-1),f={class:"col-12 col-md-6"},w=["value"],y={class:"row mt-2"},h=(0,a._)("div",{class:"col-12 col-md-3"},null,-1),H={class:"col-12 col-md-6"},k=["value"],x={class:"row mt-2"},M=(0,a._)("div",{class:"col-12 col-md-3"},null,-1),Y={class:"col-12 col-md-6"},U=["value"],D=["value"],S={class:"row mt-2"},q=(0,a._)("div",{class:"col-12 col-md-3"},null,-1),C={class:"col-12 col-md-6"},z=["value"],L={class:"mt-2"},R=["src"],B={key:1},E=(0,a._)("div",{class:"alert alert-danger mt-2",role:"alert"},"ไม่พบเนื้อหา !",-1),I=[E];var T={__name:"preview_order",setup(e){const t=(0,i.oR)(),l=(0,r.iH)(""),E=(0,r.iH)(""),T=((0,r.iH)(""),(0,r.iH)(""),(0,r.iH)(""),(0,r.iH)(""),(0,r.iH)(""),(0,r.iH)(""),(0,r.iH)(""),(0,r.iH)(t.getters.get_simulate_db)),F=(0,r.iH)("/tttbb-rapsarb-demo/"),j=((0,a.f3)("toast"),(0,a.f3)("m_format"));(0,a.f3)("e_tooltips"),(0,a.f3)("Hash_MD5");(0,a.bv)((()=>{A()}));const A=()=>{"undefined"!=typeof t.getters.get_view_id&&""!=t.getters.get_view_id?(l.value=String(t.getters.get_view_id),W()):alert("ไม่พบ Register ID")},W=()=>{l.value;for(let e=0;e<T.value.length;e++){const a=T.value[e];if(a.register_no==l.value){const e=t.getters.get_m_topic.find((e=>e.key===a.m_topic));a.main_topic_name=e?e.text:a.m_topic;const l=t.getters.get_s_topic.find((e=>e.key===a.s_topic));a.sub_topic_name=l?l.text:a.s_topic,E.value=a;break}}};return(e,l)=>((0,a.wg)(),(0,a.iD)("div",null,[E.value!=[]||""!=E.value?((0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("div",d,[(0,a._)("div",n,(0,s.zw)((0,r.SU)(t).getters.get_right_register)+(0,s.zw)(E.value.register_no),1)]),(0,a._)("div",c,[u,(0,a._)("div",m,[(0,a._)("div",v,[(0,a._)("input",{class:"form-control border border-0",type:"text",value:E.value.main_topic_name,readonly:""},null,8,_),(0,a._)("input",{class:"form-control border border-0",type:"text",value:E.value.sub_topic_name,readonly:""},null,8,b)])])]),(0,a._)("div",g,[p,(0,a._)("div",f,[(0,a._)("input",{class:"form-control border border-0",value:E.value.keyword,type:"text",readonly:""},null,8,w)])]),(0,a._)("div",y,[h,(0,a._)("div",H,[(0,a._)("textarea",{class:"form-control border border-0",value:E.value.detail,rows:"8",readonly:""},null,8,k)])]),(0,a._)("div",x,[M,(0,a._)("div",Y,[(0,r.SU)(j)(E.value.date1,"YYYYMMDD")==(0,r.SU)(j)(E.value.date2,"YYYYMMDD")?((0,a.wg)(),(0,a.iD)("input",{key:0,class:"form-control border border-0 text-left",type:"text",value:"เวลา "+(0,r.SU)(j)(E.value.date1,"HH:mm")+" - "+(0,r.SU)(j)(E.value.date2,"HH:mm")+" วันที่ "+(0,r.SU)(j)(E.value.date1,"DD-MM-YYYY"),readonly:""},null,8,U)):((0,a.wg)(),(0,a.iD)("input",{key:1,class:"form-control border border-0 text-left",type:"text",value:"วันเริ่มต้น - สิ้นสุด : "+(0,r.SU)(j)(E.value.date1,"HH:mm DD-MM-YYYY")+" - "+(0,r.SU)(j)(E.value.date2,"HH:mm DD-MM-YYYY"),readonly:""},null,8,D))])]),(0,a._)("div",S,[q,(0,a._)("div",C,[(0,a._)("input",{class:"form-control form-control-sm border border-0 fs-7 text-body-secondary",type:"text",value:"สร้างโดย : "+E.value.login_eid+" "+(0,r.SU)(j)(E.value.date_key,"HH:mm DD-MM-YYYY"),readonly:""},null,8,z)])]),(0,a._)("div",L,[E.value.auto_num?((0,a.wg)(),(0,a.iD)("img",{key:0,src:F.value+"img/file/"+E.value.auto_num+".png",class:"img-thumbnail"},null,8,R)):((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,a.Uk)((0,s.zw)(E.value.auto_num),1)],64))])])):((0,a.wg)(),(0,a.iD)("div",B,I))]))}};const F=T;var j=F},4777:function(e,t,l){l.r(t),l.d(t,{default:function(){return K}});var a=l(3396),s=l(7139),r=l(4870),i=l(9242),o=l(2483),d=l(65),n=l(8096);const c={class:"container"},u=(0,a._)("div",{id:"table"},null,-1),m={class:"modal fade",id:"qrModal",tabindex:"-1","aria-labelledby":"qrModalLabel","aria-hidden":"true"},v={class:"modal-dialog modal-lg"},_={class:"modal-content"},b={class:"modal-header"},g={class:"modal-title fs-5",id:"qrModalLabel"},p=(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),f={class:"modal-body text-center"},w={class:"row"},y=(0,a._)("div",{class:"col"},null,-1),h={class:"col"},H=(0,a._)("div",{class:"col"},null,-1),k={class:"row"},x={class:"col my-1"},M=(0,a._)("div",{class:"text-light"},null,-1),Y={class:"modal fade",id:"editModal",tabindex:"-1","aria-labelledby":"editModalLabel","aria-hidden":"true"},U={class:"modal-dialog modal-sm"},D={class:"modal-content"},S={class:"modal-header"},q={class:"modal-title fs-5",id:"editModalLabel"},C=(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),z={class:"modal-body text-center"},L={class:"row"},R={class:"col"},B=(0,a._)("option",{value:"All"},"All",-1),E=(0,a._)("option",{value:"Register"},"Register",-1),I=[B,E],T={class:"modal fade",id:"viewModal",tabindex:"-1","aria-labelledby":"viewModalLabel","aria-hidden":"true"},F={class:"modal-dialog modal-fullscreen"},j={class:"modal-content"},A={class:"modal-header"},W={class:"modal-title fs-5",id:"viewModalLabel"},G={key:0,class:"modal-body text-center"};var V={__name:"list_topic",setup(e){const t=(0,d.oR)(),l=(0,o.yj)(),B=(0,o.tv)(),E=new Grid,V=((0,a.Fl)((()=>t.getters.get_m_topic)),(0,a.Fl)((()=>t.getters.get_s_topic)),(0,r.iH)([])),J=(0,r.iH)(""),K=(0,r.iH)(""),N=((0,r.iH)(""),(0,r.iH)("")),O=((0,r.iH)(""),(0,r.iH)("")),P=(0,r.iH)(""),Q=(0,r.iH)(""),X=(0,r.iH)(""),Z=(0,r.iH)(""),$=(0,r.iH)(""),ee=(0,r.iH)(""),te=(0,r.iH)(""),le=(0,r.iH)("http://"+window.location.hostname+":8080"),ae=(0,a.f3)("toast"),se=(0,a.f3)("m_format"),re=(0,a.f3)("e_tooltips"),ie=(0,a.f3)("Hash_MD5"),oe=(0,a.f3)("s_reload"),de=(0,a.f3)("copy_text");(0,a.bv)((()=>{"undefined"!=typeof l.params.prev&&""!=l.params.prev&&"qr_create_topic"==l.params.prev?(B.replace({name:"qr_list_topic"}),oe()):(ne(),X.value=new bootstrap.Modal(document.getElementById("qrModal")),Z.value=new bootstrap.Modal(document.getElementById("editModal")),$.value=new bootstrap.Modal(document.getElementById("viewModal")))}));const ne=()=>{V.value=t.getters.get_simulate_db,te.value++,setTimeout((()=>{ve()}),1e3)},ce=(e,t,l)=>{ae("แจ้งเตือน !","อัพเดตเรียบร้อย","bg-success"),Z.value.hide()},ue=(e,t,l,a)=>{J.value=e,N.value=l,K.value=t,X.value.show()},me=(e,t,l)=>{O.value=e,P.value=t,Q.value=l,Z.value.show()},ve=()=>{E.render(document.getElementById("table")),E.updateConfig({columns:[{id:"register_no",name:"เลขที่",sort:!0,formatter:(e,t)=>{var l='<i class="bi bi-search text-primary pointer"></i>';return html("<center>"+e+" "+l+"</center>")}},{id:"m_topic",name:"หัวข้อ",sort:!0,formatter:(e,l)=>{var a="";const s=t.getters.get_m_topic.find((t=>t.key===e));return a=s?s.text:e,html("<center>"+a+"</center>")}},{id:"start_date",name:"📅วันเริ่มต้น",formatter:(e,t)=>{var l=se(e,"HH:mm DD-MM-YYYY");return html("<center>⌚ "+l+"</center>")},sort:!0},{id:"check1",name:"ไฟล์",formatter:(e,t)=>{var l="";return l="Yes"==e?'<i class="bi bi-check-lg text-success pointer"></i>':'<i class="bi bi-x-lg text-danger pointer"></i>',html("<center>"+l+"</center>")}},{id:"check2",name:"มองเห็น",formatter:(e,t)=>{var l=e+' <i class="bi bi-pencil-square text-warning pointer"></i>';return html("<center>"+l+"</center>")}},{id:"open_register",name:"เปิดใช้",formatter:(e,t)=>{var l="";return l="on"==e?'<i class="bi bi-toggle-on text-success pointer"></i>':'<i class="bi bi-toggle-off text-danger pointer"></i>',html("<center>"+l+"</center>")},sort:!0},{id:"qr",name:html('<i class="bi bi-qr-code"></i>'),formatter:(e,t)=>html('<center><button type="button" class="btn btn-sm btn-outline-dark"><i class="bi bi-qr-code-scan" ></i></button></center>')},{id:"keyword",name:"หัวข้อเรื่อง",sort:!0},{id:"del_order",name:"ลบ",formatter:(e,t)=>{var l="";return l='<i class="bi bi-x-lg text-danger pointer"></i>',html("<center>"+l+"</center>")}}],style:{table:{"font-size":"15px"},th:{"text-align":"center"}},search:!0,fixedHeader:!0,pagination:{limit:5},height:"300px",language:{search:{placeholder:"🔍ค้นหา..."},pagination:{previous:"⬅️",next:"➡️",showing:"⭐ แสดงผล",results:()=>"รายการ"}},data:V.value}).forceRender(),E.on("cellClick",((e,t,l,a)=>["qr"==l.id?ue(a._cells[0].data,a._cells[1].data,a._cells[2].data):"1","open_register"==l.id?ce(a._cells[0].data,t.data,"open_register"):"2","check1"==l.id?ce(a._cells[0].data,t.data,"check1"):"3","check2"==l.id?me(a._cells[0].data,t.data,"check2"):"4","register_no"==l.id?_e(t.data):"5","del_order"==l.id?be(a._cells[0].data):"6"]));const e=document.querySelector(".gridjs-search"),l=document.createElement("label");l.classList.add("h5"),l.classList.add("px-5"),l.textContent="รายการรับทราบ",e.insertBefore(l,e.children[0]),setTimeout((()=>{re()}),2e3)},_e=e=>{t.commit("change_view_id",e),ee.value=e,setTimeout((()=>{$.value.show()}),1e3)},be=e=>{1==confirm("คุณต้องการลบไฟล์ ใช่หรือไม่!")&&ae("แจ้งเตือน !","ลบเรียบร้อย","bg-success")};return(e,l)=>{const o=(0,a.up)("qr-code");return(0,a.wg)(),(0,a.iD)("div",c,[u,(0,a._)("div",m,[(0,a._)("div",v,[(0,a._)("div",_,[(0,a._)("div",b,[(0,a._)("h1",g,(0,s.zw)((0,r.SU)(t).getters.get_right_register)+(0,s.zw)(J.value),1),p]),(0,a._)("div",f,[(0,a._)("div",w,[y,(0,a._)("div",h,[(0,a.Wm)(o,{text:(0,r.SU)(t).getters.get_link+"app/#/reg_register/"+(0,r.SU)(ie)(J.value),size:350,color:"black","error-level":"H"},null,8,["text"])]),H]),(0,a._)("div",k,[(0,a._)("div",x,[(0,a.Uk)(" เวลา "+(0,s.zw)((0,r.SU)(se)(N.value,"HH:mm"))+" วันที่ "+(0,s.zw)((0,r.SU)(se)(N.value,"DD-MM-YYYY"))+" เริ่มต้นใช้งาน  ",1),(0,a._)("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:l[0]||(l[0]=e=>(0,r.SU)(de)((0,r.SU)(t).getters.get_link+"app/#/reg_register/"+(0,r.SU)(ie)(J.value)))}," CopyURL"),(0,a.Uk)("  "),(0,a.wy)((0,a._)("button",{type:"button",class:"btn btn-outline-secondary btn-sm",onClick:l[1]||(l[1]=e=>(0,r.SU)(de)((0,r.SU)(t).getters.get_link3+"app/#/reg_register/"+(0,r.SU)(ie)(J.value)))}," CopyTestURL ",512),[[i.F8,(0,r.SU)(t).state.link_web3==le.value]]),M])])])])])]),(0,a._)("div",Y,[(0,a._)("div",U,[(0,a._)("div",D,[(0,a._)("div",S,[(0,a._)("h1",q,(0,s.zw)((0,r.SU)(t).getters.get_right_register)+(0,s.zw)(O.value),1),C]),(0,a._)("div",z,[(0,a._)("div",L,[(0,a._)("div",R,[(0,a.Uk)(" เปลี่ยนสิทธิ์การเข้าถึง "),(0,a.wy)((0,a._)("select",{class:"form-select","onUpdate:modelValue":l[2]||(l[2]=e=>P.value=e),onChange:l[3]||(l[3]=e=>ce(O.value,P.value,Q.value))},I,544),[[i.bM,P.value]])])])])])])]),(0,a._)("div",T,[(0,a._)("div",F,[(0,a._)("div",j,[(0,a._)("div",A,[(0,a._)("h1",W,(0,s.zw)((0,r.SU)(t).getters.get_right_register)+(0,s.zw)(ee.value),1),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:l[4]||(l[4]=e=>ee.value="")})]),""!=ee.value?((0,a.wg)(),(0,a.iD)("div",G,[(0,a.Wm)(n["default"])])):(0,a.kq)("",!0)])])])])}}};const J=V;var K=J}}]);
//# sourceMappingURL=777.4d0b377c.js.map