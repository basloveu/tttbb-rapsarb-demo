{"version":3,"file":"js/757.e7773fc3.js","mappings":"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","sources":["webpack://rapsarb/./src/views/reg/register.vue","webpack://rapsarb/./src/views/reg/register.vue?8caf"],"sourcesContent":["<template lang=\"\">\n  <div>\n    <div\n      v-if=\"\n        (db_register != [] || db_register != '') &&\n        date_return == 1\n      \"\n    >\n      <div class=\"row sticky-top fw-bolder\">\n        <div class=\"col-12 col-md-4\"></div>\n        <div class=\"col-12 col-md-4 text-center\">\n          {{ store.getters.get_right_register }}{{ db_register.register_no }}\n        </div>\n        <div class=\"col-12 col-md-4 text-end\">\n          {{ moment_format(date_check, \"HH:mm DD-MM-YYYY\") }}\n        </div>\n      </div>\n      <div class=\"row mt-2\">\n        <div class=\"col-12 col-md-3\"></div>\n        <div class=\"col-12 col-md-6\">\n          <div class=\"input-group mb-2\">\n            <input\n              class=\"form-control border border-0\"\n              type=\"text\"\n              :value=\"db_register.main_topic_name\"\n              readonly\n            />\n            <input\n              class=\"form-control border border-0\"\n              type=\"text\"\n              :value=\"db_register.sub_topic_name\"\n              readonly\n            />\n          </div>\n        </div>\n      </div>\n      <div class=\"row mt-2\">\n        <div class=\"col-12 col-md-3\"></div>\n        <div class=\"col-12 col-md-6\">\n          <input\n            class=\"form-control border border-0\"\n            :value=\"db_register.keyword\"\n            type=\"text\"\n            readonly\n          ></input>\n        </div>\n      </div>\n      <div class=\"row mt-2\">\n        <div class=\"col-12 col-md-3\"></div>\n        <div class=\"col-12 col-md-6\">\n          <textarea\n            class=\"form-control border border-0\"\n            :value=\"db_register.detail\"\n            rows=\"8\"\n            readonly\n          ></textarea>\n        </div>\n      </div>\n      <div class=\"row mt-2\">\n        <div class=\"col-12 col-md-3\"></div>\n        <div class=\"col-12 col-md-6\">\n          <template\n            v-if=\"\n              moment_format(db_register.start_date, 'YYYYMMDD') ==\n              moment_format(db_register.end_date, 'YYYYMMDD')\n            \"\n          >\n            <input\n              class=\"form-control border border-0\"\n              type=\"text\"\n              :value=\"\n                'เวลา ' +\n                moment_format(db_register.start_date, 'HH:mm') +\n                ' - ' +\n                moment_format(db_register.end_date, 'HH:mm') +\n                ' วันที่ ' +\n                moment_format(db_register.start_date, 'DD-MM-YYYY')\n              \"\n              readonly\n            />\n          </template>\n<template v-else>\n            <input\n              class=\"form-control border border-0\"\n              type=\"text\"\n              :value=\"\n                'วันเริ่มต้น - สิ้นสุด : ' +\n                moment_format(db_register.start_date, 'HH:mm DD-MM-YYYY') +\n                ' - ' +\n                moment_format(db_register.end_date, 'HH:mm DD-MM-YYYY')\n              \"\n              readonly\n            />\n          </template>\n</div>\n</div>\n<div class=\"row mt-2\">\n  <div class=\"col-12 col-md-3\"></div>\n  <div class=\"col-12 col-md-6\">\n    <input class=\"form-control form-control-sm border border-0 fs-7 text-body-secondary\"\n      :value=\"'สร้างโดย : '+db_register.login_eid+' '+moment_format(db_register.date_key, 'HH:mm DD-MM-YYYY')\"\n      type=\"text\" readonly></input>\n  </div>\n</div>\n\n<div class=\"mt-2\">\n  <template v-if=\"db_register.auto_num\">\n          <img :src=\"publicPath + 'img/file/' + db_register.auto_num +\n            '.png'\n            \" class=\"img-thumbnail\" />\n        </template>\n  <template v-else>{{ db_register.auto_num }}</template>\n</div>\n<div class=\"row\">\n  <div class=\"col-12 col-md-3\"></div>\n  <div class=\"col-12 col-md-6 mt-3 mb-3\">\n    <div class=\"form-check form-check-inline\" v-on:click=\"flexCheck != flexCheck\">\n      <input class=\"form-check-input pointer border-1 shadow-sm\" type=\"checkbox\" v-model=\"flexCheck\" id=\"flexCheck\" />\n      <label class=\"form-check-label pointer fw-bold text-danger\" for=\"flexCheck\">\n        ฉันอ่านข้อความ,เนื้อหา,รูปภาพ\n        และทำความเข้าใจทั้งหมดด้านบนเรียบร้อย\n      </label>\n    </div>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-12 col-md-3\"></div>\n  <div class=\"col-12 col-md-6\">\n    <div>\n      <canvas id=\"signature-pad\" class=\"w-100 border\"></canvas>\n    </div>\n    <div class=\"btn-group mt-2 mb-3\" role=\"group\">\n      <button id=\"save\" class=\"btn btn-success\" type=\"button\" :disabled=\"flexCheck == false ? true : false\">\n        บันทึก ลายเซ็น\n      </button>\n      <button id=\"clear\" class=\"btn btn-danger\" type=\"button\" :disabled=\"flexCheck == false ? true : false\">\n        ล้าง ลายเซ็น\n      </button>\n    </div>\n    <div>\n      <p class=\"fw-light text-danger\" v-if=\"flexCheck == false\">\n        ยังไม่ได้กดยอมรับ\n      </p>\n    </div>\n  </div>\n</div>\n\n<div class=\"row\" v-if=\"db_register.check1 == 'Yes'\">\n  <div class=\"col-12 col-md-3\"></div>\n  <div class=\"col-12 col-md-6\">\n    <div class=\"mb-3\">\n      <div class=\"file-loading\">\n        <input id=\"input_file\" name=\"input_file[]\" type=\"file\" accept=\".jpg,.jpeg,.png\" multiple />\n      </div>\n    </div>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-12 col-md-3\"></div>\n  <div class=\"col-12 col-md-6\">\n    <div class=\"mb-3\">\n      <label for=\"Textarea1\" class=\"form-label\">หมายเหตุ</label>\n      <textarea class=\"form-control border border-secondary\" v-model=\"note\" rows=\"3\" id=\"Textarea1\"></textarea>\n    </div>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-12 col-md-3\"></div>\n  <div class=\"col-12 col-md-6\">\n    <div class=\"d-grid gap-1 mb-3\">\n      <template v-if=\"db_register.check1 == 'No'\">\n              <template v-if=\"signatureCheck == false\">\n                <button class=\"btn btn-primary\" type=\"button\" disabled>\n                  ยังไม่ได้บันทึก ลายเซ็น\n                </button></template>\n      <template v-else>\n                <button\n                  class=\"btn btn-success\"\n                  type=\"button\"\n                  v-on:click=\"save_rabsarb()\"\n                >\n                  รับทราบ\n                </button>\n              </template>\n      </template>\n      <template v-else>\n              <template v-if=\"signatureCheck == false\">\n                <button class=\"btn btn-primary\" type=\"button\" disabled>\n                  ยังไม่ได้บันทึก ลายเซ็น\n                </button></template>\n      <template v-else-if=\"check_up_file == false\">\n                <button class=\"btn btn-danger\" type=\"button\" disabled>\n                  ยังไม่ได้อัพโหลด รูปภาพ\n                </button></template>\n      <template v-else>\n                <button\n                  class=\"btn btn-success\"\n                  type=\"button\"\n                  v-on:click=\"save_rabsarb()\"\n                >\n                  รับทราบ\n                </button>\n              </template>\n      </template>\n    </div>\n  </div>\n</div>\n</div>\n\n<div v-else-if=\"db_register.open_register == 'off'\">\n  <div class=\"alert alert-warning mt-2\" role=\"alert\">\n    ยังไม่เปิดให้ลงทะเบียน !\n  </div>\n</div>\n<div v-else-if=\"date_return == 3\">\n  <div class=\"row\">\n    <div class=\"col-12 col-md-4\"></div>\n    <div class=\"col-12 col-md-4 text-center\">\n      {{ db_register.register_no }}\n    </div>\n    <div class=\"col-12 col-md-4 text-end\">\n      {{ moment_format(date_check, \"H:mm DD-MM-YYYY\") }}\n    </div>\n  </div>\n  <div class=\"row mt-2\">\n    <div class=\"col-12 col-md-3\"></div>\n    <div class=\"col-12 col-md-6\">\n      <template v-if=\"\n              moment_format(db_register.start_date, 'YYYYMMDD') ==\n              moment_format(db_register.end_date, 'YYYYMMDD')\n            \">\n            <input\n              class=\"form-control border border-0 text-center\"\n              type=\"text\"\n              :value=\"\n                'เวลา ' +\n                moment_format(db_register.start_date, 'HH:mm') +\n                ' - ' +\n                moment_format(db_register.end_date, 'HH:mm') +\n                ' วันที่ ' +\n                moment_format(db_register.start_date, 'DD-MM-YYYY')\n              \"\n              readonly\n            />\n          </template>\n      <template v-else>\n            <input\n              class=\"form-control border border-0 text-center\"\n              type=\"text\"\n              :value=\"\n                'เริ่มต้น - สิ้นสุด : ' +\n                moment_format(db_register.start_date, 'HH:mm DD-MM-YYYY') +\n                ' - ' +\n                moment_format(db_register.end_date, 'HH:mm DD-MM-YYYY')\n              \"\n              readonly\n            />\n          </template>\n    </div>\n  </div>\n  <div class=\"alert alert-warning mt-2\" role=\"alert\">\n    ไม่อยู่ในช่วงเวลาลงทะเบียน !\n  </div>\n</div>\n<div v-else>\n  <div class=\"alert alert-danger mt-2\" role=\"alert\">ไม่พบเนื้อหา !</div>\n</div>\n</div>\n</template>\n<script setup>\nimport { ref, reactive, computed, onMounted, inject } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { useRoute } from \"vue-router\";\n\nconst store = useStore();\nconst route = useRoute();\nconst order_id = ref(\"\");\nconst db_register = ref(\"\");\nconst db_file = ref(\"\");\nconst flexCheck = ref(false);\nconst signatureCheck = ref(false);\nconst signatureModal = ref(\"\");\nconst dataURL = ref(\"\");\nconst note = ref(\"\");\nconst day = ref(\"\");\nconst month = ref(\"\");\nconst year = ref(\"\");\nconst hours = ref(\"\");\nconst min = ref(\"\");\nconst date_check = ref(\"\");\nconst date_return = ref(\"\");\nconst check_up_file = ref(false);\nconst id_upload = ref(\"\");\nconst name_upload = ref(\"\");\nconst db_show = ref(store.getters.get_simulate_db);\nconst publicPath = ref(process.env.BASE_URL);\n//include fuction root page App.vue\nconst toast = inject(\"toast\");\nconst moment_format = inject(\"m_format\");\nconst enable_tooltips = inject(\"e_tooltips\");\nconst go_to_route_name = inject(\"gtr_name\");\nconst Hash_MD5 = inject(\"Hash_MD5\");\n\nonMounted(() => {\n  set_val();\n  format(new Date());\n});\n\nconst set_val = () => {\n  if (typeof route.params.order != \"undefined\" && route.params.order != \"\") {\n    order_id.value = route.params.order;\n    load_order();\n  } else {\n    alert(\"ไม่พบ Register ID\");\n  }\n};\n\nconst format = (date) => {\n  day.value =\n    parseInt(date.getDate()) < 10\n      ? \"0\" + parseInt(date.getDate())\n      : parseInt(date.getDate());\n  month.value =\n    parseInt(date.getMonth() + 1) < 10\n      ? \"0\" + parseInt(date.getMonth() + 1)\n      : parseInt(date.getMonth() + 1);\n  year.value = date.getFullYear();\n  hours.value =\n    parseInt(date.getHours()) < 10\n      ? \"0\" + parseInt(date.getHours())\n      : parseInt(date.getHours());\n  min.value =\n    parseInt(date.getMinutes()) < 10\n      ? \"0\" + parseInt(date.getMinutes())\n      : parseInt(date.getMinutes());\n\n  date_check.value =\n    year.value +\n    \"-\" +\n    month.value +\n    \"-\" +\n    day.value +\n    \" \" +\n    hours.value +\n    \":\" +\n    min.value;\n};\n\nconst load_order = () => {\n  var arr = { key: order_id.value };\n  for (let index = 0; index < db_show.value.length; index++) {\n    const element = db_show.value[index];\n    if (Hash_MD5(element.register_no) == order_id.value) {\n      const foundM = store.getters.get_m_topic.find(db1 => db1.key === element.m_topic);\n      if (foundM) {\n        element.main_topic_name = foundM.text;\n      } else {\n        element.main_topic_name = element.m_topic;\n      }\n      const foundS = store.getters.get_s_topic.find(db2 => db2.key === element.s_topic);\n      if (foundS) {\n        element.sub_topic_name = foundS.text;\n      } else {\n        element.sub_topic_name = element.s_topic;\n      }\n      db_register.value = element;\n      break;\n    }\n  }\n\n  date_return.value = check_time(\n    db_register.value.date1,\n    db_register.value.date2,\n    db_register.value.date1\n  );\n\n  setTimeout(() => {\n    if (date_return.value == 1) {\n      set_signature_pad();\n    } else {\n    }\n    if (db_register.value.check1 == \"Yes\") {\n      set_upload();\n    } else {\n    }\n  }, 2000);\n\n};\n\nconst set_signature_pad = () => {\n  const ratio = Math.max(window.devicePixelRatio || 1, 1);\n  $(\"#signature-pad\").each(function () {\n    this.width = this.offsetWidth * ratio;\n    this.height = this.offsetHeight * ratio;\n    $(this)[0].getContext(\"2d\").scale(ratio, ratio);\n  });\n\n  var signaturePad = new SignaturePad(\n    document.getElementById(\"signature-pad\"),\n    {\n      minWidth: 1,\n      maxWidth: 2,\n      // backgroundColor: \"#c0c0c0\",\n      penColor: \"rgb(66, 133, 244)\",\n    }\n  );\n  var saveButton = document.getElementById(\"save\");\n  var cancelButton = document.getElementById(\"clear\");\n\n  saveButton.addEventListener(\"click\", function (event) {\n    var data = signaturePad.toDataURL(\"image/png\");\n    dataURL.value = data;\n    var arr = reactive({\n      loginEID: encodeURIComponent(store.getters.get_eid),\n      orderName: db_register.value.register_no,\n      orderID: Number(db_register.value.register_no.replace(/[^0-9.]/g, \"\")),\n      dataURL: dataURL.value,\n    });\n\n    signatureCheck.value = true;\n    toast(\n      \"แจ้งเตือน !\",\n      \"บันทึกลายเซ็น \" + store.getters.get_eid + \" เรียบร้อย\",\n      \"bg-success\"\n    );\n  });\n\n  cancelButton.addEventListener(\"click\", function (event) {\n    signatureCheck.value = false;\n    signaturePad.clear();\n  });\n};\nconst save_rabsarb = () => {\n  var arr = reactive({\n    loginEID: store.getters.get_eid,\n    loginName: store.getters.get_name,\n    loginEmail: store.getters.get_email,\n    loginSection: store.getters.get_section,\n    loginDivision: store.getters.get_division,\n    loginDepName: store.getters.get_depname,\n    loginCompany: store.getters.get_company,\n    loginTitle: store.getters.get_title,\n    orderName: db_register.value.register_no,\n    orderID: Number(db_register.value.register_no.replace(/[^0-9.]/g, \"\")),\n    note: note.value,\n  });\n  toast(\n    \"แจ้งเตือน !\",\n    store.getters.get_eid + \" รับทราบแล้ว\",\n    \"bg-success\"\n  );\n};\n\nconst check_time = (va1, va2, va3) => {\n  // console.log(va1, va2, va3);\n  var dateFrom = va1.split(\" \");\n  var dateTo = va2.split(\" \");\n  var dateCheck = va3.split(\" \");\n\n  var d1 = dateFrom[0].split(\"-\");\n  var d2 = dateTo[0].split(\"-\");\n  var c = dateCheck[0].split(\"-\");\n  var td1 = dateFrom[1].split(\":\");\n  var td2 = dateTo[1].split(\":\");\n  var tc = dateCheck[1].split(\":\");\n  // -1 because months are from 0 to 11\n  //console.log(Date.parse((parseInt(d1[1])-1)+\"/\"+d1[0]+\"/\"+d1[2]+\"T\"+td1[0]+\":\"+td1[1]));\n  var from = new Date(d1[0], parseInt(d1[1]) - 1, d1[2], td1[0], td1[1]);\n  var to = new Date(d2[0], parseInt(d2[1]) - 1, d2[2], td2[0], td2[1]);\n  var check = new Date(c[0], parseInt(c[1]) - 1, c[2], tc[0], tc[1]);\n  //console.log(from+\" >\"+ check +\"<\"+ to);\n  if (check >= from && check <= to) {\n    return \"1\";\n  } else {\n    return \"3\";\n  }\n};\n\nconst set_upload = () => {\n  id_upload.value = db_register.value.register_no;\n  name_upload.value =\n    \"ME-\" + store.getters.get_eid + \"-\" + db_register.value.register_no;\n  // console.log(id_upload.value, name_upload.value);\n  $(\"#input_file\")\n    .fileinput({\n      theme: \"bs5\",\n      // uploadUrl: store.getters.get_link + \"api/file/upload.php\",\n      allowedFileExtensions: [\n        \"jpg\",\n        \"jpeg\",\n        \"png\",\n        \"xls\",\n        \"xlsx\",\n        \"pdf\",\n        \"doc\",\n        \"docx\",\n      ],\n      minFileCount: 1,\n      maxFileCount: 6,\n      overwriteInitial: false,\n      initialPreviewAsData: true,\n      maxFileSize: 10000,\n      removeFromPreviewOnError: true,\n      preferIconicPreview: false,\n      previewFileExtSettings: {\n        doc: function (ext) {\n          return ext.match(/(doc|docx)$/i);\n        },\n        xls: function (ext) {\n          return ext.match(/(xls|xlsx)$/i);\n        },\n        ppt: function (ext) {\n          return ext.match(/(ppt|pptx)$/i);\n        },\n        zip: function (ext) {\n          return ext.match(/(zip|rar|tar|gzip|gz|7z)$/i);\n        },\n        htm: function (ext) {\n          return ext.match(/(htm|html)$/i);\n        },\n        txt: function (ext) {\n          return ext.match(/(txt|ini|csv|java|php|js|css)$/i);\n        },\n        mov: function (ext) {\n          return ext.match(/(avi|mpg|mkv|mov|mp4|3gp|webm|wmv)$/i);\n        },\n        mp3: function (ext) {\n          return ext.match(/(mp3|wav)$/i);\n        },\n      },\n      fileActionSettings: {\n        showUpload: false,\n        showDownload: false,\n        showZoom: false,\n        showDrag: true,\n      },\n      uploadExtraData: function () {\n        return {\n          id: name_upload.value,\n          eid: store.getters.get_eid,\n        };\n      },\n      browseLabel: \"เลือกไฟล์\",\n      browseClass: \"btn btn-primary\",\n      uploadLabel: \"อัพโหลด\",\n      uploadClass: \"btn btn-success active\",\n      removeLabel: \"ล้าง\",\n      removeClass: \"btn btn-danger\",\n    })\n    .on(\"filebatchpreupload\", function (event, data, id, index) {\n      var n = data.files.length,\n        files = n > 1 ? n + \" ไฟล์\" : \"1 ไฟล์\";\n      if (!window.confirm(\"คุณต้องการ อัพโหลดไฟล์ จำนวน \" + files + \"?\")) {\n        return {\n          message: \"Upload aborted!\", // upload error message\n          data: {}, // any other data to send that can be referred in `filecustomerror`\n        };\n      }\n    })\n    .on(\"fileuploaded\", function (event, data) {\n      // console.log(data.response);\n      if (data.response.success == \"success\" && data.response.upload == \"yes\") {\n        toast(\"แจ้งเตือน !\", \"บันทึกไฟล์เรียบร้อย\", \"bg-success\");\n      } else if (\n        data.response.success == \"success\" &&\n        data.response.upload != \"yes\"\n      ) {\n        check_up_file.value = false;\n        toast(\n          \"แจ้งเตือน !\",\n          \"บันทึกไฟล์เรียบร้อย แต่บันทึกที่อยู่ไม่ได้\",\n          \"bg-warning\"\n        );\n      } else {\n        toast(\"แจ้งเตือน !\", \"ผิดพลาด\", \"bg-danger\");\n      }\n    });\n};\n</script>\n","import script from \"./register.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./register.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["store","useStore","route","useRoute","order_id","ref","db_register","flexCheck","signatureCheck","dataURL","note","day","month","year","hours","min","date_check","date_return","check_up_file","id_upload","name_upload","db_show","getters","get_simulate_db","publicPath","process","toast","inject","moment_format","Hash_MD5","onMounted","set_val","format","Date","params","order","value","load_order","alert","date","parseInt","getDate","getMonth","getFullYear","getHours","getMinutes","index","length","element","register_no","foundM","get_m_topic","find","db1","key","m_topic","main_topic_name","text","foundS","get_s_topic","db2","s_topic","sub_topic_name","check_time","date1","date2","setTimeout","set_signature_pad","check1","set_upload","ratio","Math","max","window","devicePixelRatio","$","each","this","width","offsetWidth","height","offsetHeight","getContext","scale","signaturePad","SignaturePad","document","getElementById","minWidth","maxWidth","penColor","saveButton","cancelButton","addEventListener","event","data","toDataURL","reactive","loginEID","encodeURIComponent","get_eid","orderName","orderID","Number","replace","clear","save_rabsarb","loginName","get_name","loginEmail","get_email","loginSection","get_section","loginDivision","get_division","loginDepName","get_depname","loginCompany","get_company","loginTitle","get_title","va1","va2","va3","dateFrom","split","dateTo","dateCheck","d1","d2","c","td1","td2","tc","from","to","check","fileinput","theme","allowedFileExtensions","minFileCount","maxFileCount","overwriteInitial","initialPreviewAsData","maxFileSize","removeFromPreviewOnError","preferIconicPreview","previewFileExtSettings","doc","ext","match","xls","ppt","zip","htm","txt","mov","mp3","fileActionSettings","showUpload","showDownload","showZoom","showDrag","uploadExtraData","id","eid","browseLabel","browseClass","uploadLabel","uploadClass","removeLabel","removeClass","on","n","files","confirm","message","response","success","upload","__exports__"],"sourceRoot":""}