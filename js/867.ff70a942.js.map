{"version":3,"file":"js/867.ff70a942.js","mappings":"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","sources":["webpack://rapsarb/./src/views/report/detail_register.vue","webpack://rapsarb/./src/views/report/detail_register.vue?fb63"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row sticky-top text-dark text-bg-secondary bg-opacity-10 pt-1 pb-2 rounded-5\">\n      <div class=\"col-12 col-md-3 mt-2 h5\">รายละเอียดการลงทะเบียน</div>\n      <div class=\"col-12 col-md-2 mt-2\">Register No.</div>\n      <div class=\"col-12 col-md-3 mt-1\">\n        <input v-model=\"reg_no\" type=\"text\" class=\"form-control\" id=\"exampleFormControlInput1\" placeholder=\"REGxxxxx\"\n          list=\"datalistOptions\" />\n        <datalist id=\"datalistOptions\">\n          <option :value=\"item.register_no\" v-for=\"(item, index) in dataList\" :key=\"index\">\n            {{ item.main_topic_name }} {{ item.sub_topic_name }} {{ item.keyword }}\n          </option>\n        </datalist>\n      </div>\n      <div class=\"col-12 col-md-1 mt-1\">\n        <button type=\"button\" class=\"btn btn-primary btn-sm rounded-5\" :disabled=\"reg_no.length != '' ? false : true\"\n          v-on:click=\"load_detail_reg\">\n          <i class=\"bi bi-search\"></i>\n        </button>\n      </div>\n    </div>\n\n    <template v-if=\"showDetail == 1\">\n      <div class=\"row mt-2\">\n        <div class=\"col-12 col-md-2 text-center mt-1\">ผู้สร้าง</div>\n        <div class=\"col-12 col-md-4 text-start\">\n          <input class=\"form-control\" type=\"text\" :value=\"detailList[detail_id].login_eid\" disabled readonly />\n        </div>\n        <div class=\"col-12 col-md-2 text-center mt-1\">หัวข้อหลัก</div>\n        <div class=\"col-12 col-md-4 text-start\">\n          <input class=\"form-control\" type=\"text\" :value=\"detailList[detail_id].main_topic_name\" disabled readonly />\n        </div>\n      </div>\n      <div class=\"row mt-2\">\n        <div class=\"col-12 col-md-2 text-center mt-1\">วันที่สร้าง</div>\n        <div class=\"col-12 col-md-4 text-start\">\n          <input class=\"form-control\" type=\"text\" :value=\"detailList[detail_id].date1\" disabled readonly />\n        </div>\n        <div class=\"col-12 col-md-2 text-center mt-1\">หัวข้อย่อย</div>\n        <div class=\"col-12 col-md-4 text-start\">\n          <input class=\"form-control\" type=\"text\" :value=\"detailList[detail_id].sub_topic_name\" disabled readonly />\n        </div>\n      </div>\n      <div class=\"row mt-2\">\n        <div class=\"col-12 col-md-2 text-center mt-1\">หัวข้อเรื่อง</div>\n        <div class=\"col-12 col-md-4 text-start\">\n          <input class=\"form-control\" type=\"text\" :value=\"detailList[detail_id].keyword\" disabled readonly />\n        </div>\n        <div class=\"col-12 col-md-6 text-center mt-2\">\n          <template v-if=\"detailList[detail_id].check2 != ''\">\n            การมองเห็น&nbsp;<i :class=\"detailList[detail_id].check2 == 'All'\n              ? 'bi bi-people-fill text-success'\n              : 'bi bi-person-fill text-warning'\n              \"></i> </template>&emsp;\n          <template v-if=\"detailList[detail_id].open_register != ''\">\n            เปิดลงทะเบียน&nbsp;<i :class=\"detailList[detail_id].open_register == 'on'\n              ? 'bi bi-circle-fill text-success'\n              : 'bi bi-circle-fill text-danger'\n              \"></i> </template>&emsp;\n          <template v-if=\"detailList[detail_id].check1 != ''\">\n            แนบภาพ&nbsp;<i :class=\"detailList[detail_id].check1 == 'Yes'\n              ? 'bi bi-paperclip text-success'\n              : 'bi bi-paperclip text-danger'\n              \"></i>\n          </template>\n        </div>\n      </div>\n      <div class=\"row mt-2\">\n        <div class=\"col-12 col-md-2 text-center mt-1\">รายละเอียด</div>\n      </div>\n      <div class=\"row mt-2\">\n        <div class=\"col-12 col-md-12 text-start\">\n          <textarea class=\"form-control\" :value=\"detailList[detail_id].detail\" rows=\"8\" disabled readonly></textarea>\n        </div>\n      </div>\n    </template>\n    <template v-else></template>\n    <div class=\"mt-2\">\n      <div id=\"table\"></div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, reactive, computed, onMounted, inject } from \"vue\";\nimport { useStore } from \"vuex\";\n\nconst store = useStore();\nconst grid = new Grid();\nconst dataList = ref([]);\nconst detailList = ref([]);\nconst reg_no = ref(\"\");\nconst db_reg = ref([]);\nconst detail_id = ref(\"\");\nconst showDetail = ref(\"\");\nconst CountModalNum1 = ref(\"\");\nconst db_show = ref(store.getters.get_simulate_db);\n//include fuction root page App.vue\nconst toast = inject(\"toast\");\n\nonMounted(() => {\n  load_datalist();\n});\nconst getRandomNumber = () => {\n  return Math.floor(Math.random() * 100) + 1;\n}\nconst load_datalist = () => {\n  var arr = {\n    key: store.getters.get_eid,\n  };\n  // dataList.value = response.data.list;\n  // detailList.value = response.data.db;\n  for (let index = 0; index < db_show.value.length; index++) {\n    const element = db_show.value[index];\n    const foundM = store.getters.get_m_topic.find(db1 => db1.key === element.m_topic);\n    if (foundM) {\n      element.main_topic_name = foundM.text;\n    } else {\n      element.main_topic_name = element.m_topic;\n    }\n    const foundS = store.getters.get_s_topic.find(db2 => db2.key === element.s_topic);\n    if (foundS) {\n      element.sub_topic_name = foundS.text;\n    } else {\n      element.sub_topic_name = element.s_topic;\n    }\n    dataList.value.push(element);\n    detailList.value[element.register_no] = element;\n  }\n};\n\nconst load_detail_reg = () => {\n  db_reg.value = [];\n  if (\n    detailList.value[reg_no.value] != \"\" &&\n    typeof detailList.value[reg_no.value] != \"undefined\"\n  ) {\n    detail_id.value = reg_no.value;\n    showDetail.value = 1;\n    db_reg.value = [\n      {\n        rapsarb_name: getRandomNumber(),\n        emp_id: store.getters.get_right_eid + getRandomNumber(),\n        emp_name: \"A Ant\",\n        rapsarb_time: new Date().toLocaleDateString(\"th-TH\", {\n          year: \"numeric\",\n          month: \"long\",\n          day: \"numeric\",\n        }),\n        title: \"Title\",\n        note: \"A\",\n        signature: \"1\",\n        img_file: \"1\",\n      },\n      {\n        rapsarb_name: getRandomNumber(),\n        emp_id: store.getters.get_right_eid + getRandomNumber(),\n        emp_name: \"B Bird\",\n        rapsarb_time: new Date().toLocaleDateString(\"th-TH\", {\n          year: \"numeric\",\n          month: \"long\",\n          day: \"numeric\",\n        }),\n        title: \"Title\",\n        note: \"B\",\n        signature: \"2\",\n        img_file: \"2\",\n      },\n      {\n        rapsarb_name: getRandomNumber(),\n        emp_id: store.getters.get_right_eid + getRandomNumber(),\n        emp_name: \"C Cat\",\n        rapsarb_time: new Date().toLocaleDateString(\"th-TH\", {\n          year: \"numeric\",\n          month: \"long\",\n          day: \"numeric\",\n        }),\n        title: \"Title\",\n        note: \"C\",\n        signature: \"3\",\n        img_file: \"3\",\n      },\n    ];\n    CountModalNum1.value++;\n    set_table();\n  } else {\n    showDetail.value = 0;\n    set_table();\n  }\n};\nconst set_table = () => {\n  if (CountModalNum1.value == 1) {\n    grid.render(document.getElementById(\"table\"));\n  } else {\n  }\n  grid\n    .updateConfig({\n      columns: [\n        {\n          id: \"emp_id\",\n          name: \"รหัส\",\n        },\n        {\n          id: \"emp_name\",\n          name: \"ชื่อ-นามสกุล\",\n        },\n        {\n          id: \"rapsarb_time\",\n          name: \"เวลา\",\n        },\n        {\n          id: \"title\",\n          name: \"ตำแหน่ง\",\n        },\n        {\n          id: \"note\",\n          name: \"หมายเหตุ\",\n        },\n        {\n          id: \"signature\",\n          name: \"ลายเซ็น\",\n          formatter: (e, cell, column) => {\n            return html(\"<center>\" + e + \"</center>\");\n          },\n        },\n        {\n          id: \"img_file\",\n          name: \"รูปภาพ\",\n          formatter: (e, cell, column) => {\n            return html(\"<center>\" + e + \"</center>\");\n          },\n        },\n      ],\n      style: {\n        table: {\n          \"font-size\": \"15px\",\n        },\n        th: {\n          \"text-align\": \"center\",\n        },\n      },\n      sort: true,\n      fixedHeader: true,\n      data: db_reg.value,\n    })\n    .forceRender();\n};\n</script>\n","import script from \"./detail_register.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./detail_register.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["store","useStore","grid","Grid","dataList","ref","detailList","reg_no","db_reg","detail_id","showDetail","CountModalNum1","db_show","getters","get_simulate_db","inject","onMounted","load_datalist","getRandomNumber","Math","floor","random","get_eid","index","value","length","element","foundM","get_m_topic","find","db1","key","m_topic","main_topic_name","text","foundS","get_s_topic","db2","s_topic","sub_topic_name","push","register_no","load_detail_reg","rapsarb_name","emp_id","get_right_eid","emp_name","rapsarb_time","Date","toLocaleDateString","year","month","day","title","note","signature","img_file","set_table","render","document","getElementById","updateConfig","columns","id","name","formatter","e","cell","column","html","style","table","th","sort","fixedHeader","data","forceRender","__exports__"],"sourceRoot":""}