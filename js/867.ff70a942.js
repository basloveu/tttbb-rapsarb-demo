"use strict";(self["webpackChunkrapsarb"]=self["webpackChunkrapsarb"]||[]).push([[867],{5867:function(e,t,l){l.r(t),l.d(t,{default:function(){return V}});l(560);var a=l(3396),i=l(9242),s=l(7139),n=l(4870),c=l(65);const o={class:"container"},r={class:"row sticky-top text-dark text-bg-secondary bg-opacity-10 pt-1 pb-2 rounded-5"},d=(0,a._)("div",{class:"col-12 col-md-3 mt-2 h5"},"รายละเอียดการลงทะเบียน",-1),u=(0,a._)("div",{class:"col-12 col-md-2 mt-2"},"Register No.",-1),m={class:"col-12 col-md-3 mt-1"},_={id:"datalistOptions"},v=["value"],p={class:"col-12 col-md-1 mt-1"},g=["disabled"],b=(0,a._)("i",{class:"bi bi-search"},null,-1),x=[b],y={class:"row mt-2"},f=(0,a._)("div",{class:"col-12 col-md-2 text-center mt-1"},"ผู้สร้าง",-1),k={class:"col-12 col-md-4 text-start"},w=["value"],h=(0,a._)("div",{class:"col-12 col-md-2 text-center mt-1"},"หัวข้อหลัก",-1),H={class:"col-12 col-md-4 text-start"},D=["value"],C={class:"row mt-2"},Y=(0,a._)("div",{class:"col-12 col-md-2 text-center mt-1"},"วันที่สร้าง",-1),T={class:"col-12 col-md-4 text-start"},U=["value"],z=(0,a._)("div",{class:"col-12 col-md-2 text-center mt-1"},"หัวข้อย่อย",-1),A={class:"col-12 col-md-4 text-start"},B=["value"],R={class:"row mt-2"},q=(0,a._)("div",{class:"col-12 col-md-2 text-center mt-1"},"หัวข้อเรื่อง",-1),L={class:"col-12 col-md-4 text-start"},S=["value"],E={class:"col-12 col-md-6 text-center mt-2"},G=(0,a._)("div",{class:"row mt-2"},[(0,a._)("div",{class:"col-12 col-md-2 text-center mt-1"},"รายละเอียด")],-1),I={class:"row mt-2"},M={class:"col-12 col-md-12 text-start"},O=["value"],F=(0,a._)("div",{class:"mt-2"},[(0,a._)("div",{id:"table"})],-1);var K={__name:"detail_register",setup(e){const t=(0,c.oR)(),l=new Grid,b=(0,n.iH)([]),K=(0,n.iH)([]),N=(0,n.iH)(""),V=(0,n.iH)([]),j=(0,n.iH)(""),J=(0,n.iH)(""),P=(0,n.iH)(""),Q=(0,n.iH)(t.getters.get_simulate_db);(0,a.f3)("toast");(0,a.bv)((()=>{X()}));const W=()=>Math.floor(100*Math.random())+1,X=()=>{t.getters.get_eid;for(let e=0;e<Q.value.length;e++){const l=Q.value[e],a=t.getters.get_m_topic.find((e=>e.key===l.m_topic));l.main_topic_name=a?a.text:l.m_topic;const i=t.getters.get_s_topic.find((e=>e.key===l.s_topic));l.sub_topic_name=i?i.text:l.s_topic,b.value.push(l),K.value[l.register_no]=l}},Z=()=>{V.value=[],""!=K.value[N.value]&&"undefined"!=typeof K.value[N.value]?(j.value=N.value,J.value=1,V.value=[{rapsarb_name:W(),emp_id:t.getters.get_right_eid+W(),emp_name:"A Ant",rapsarb_time:(new Date).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric"}),title:"Title",note:"A",signature:"1",img_file:"1"},{rapsarb_name:W(),emp_id:t.getters.get_right_eid+W(),emp_name:"B Bird",rapsarb_time:(new Date).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric"}),title:"Title",note:"B",signature:"2",img_file:"2"},{rapsarb_name:W(),emp_id:t.getters.get_right_eid+W(),emp_name:"C Cat",rapsarb_time:(new Date).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric"}),title:"Title",note:"C",signature:"3",img_file:"3"}],P.value++,$()):(J.value=0,$())},$=()=>{1==P.value&&l.render(document.getElementById("table")),l.updateConfig({columns:[{id:"emp_id",name:"รหัส"},{id:"emp_name",name:"ชื่อ-นามสกุล"},{id:"rapsarb_time",name:"เวลา"},{id:"title",name:"ตำแหน่ง"},{id:"note",name:"หมายเหตุ"},{id:"signature",name:"ลายเซ็น",formatter:(e,t,l)=>html("<center>"+e+"</center>")},{id:"img_file",name:"รูปภาพ",formatter:(e,t,l)=>html("<center>"+e+"</center>")}],style:{table:{"font-size":"15px"},th:{"text-align":"center"}},sort:!0,fixedHeader:!0,data:V.value}).forceRender()};return(e,t)=>((0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("div",r,[d,u,(0,a._)("div",m,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>N.value=e),type:"text",class:"form-control",id:"exampleFormControlInput1",placeholder:"REGxxxxx",list:"datalistOptions"},null,512),[[i.nr,N.value]]),(0,a._)("datalist",_,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(b.value,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{value:e.register_no,key:t},(0,s.zw)(e.main_topic_name)+" "+(0,s.zw)(e.sub_topic_name)+" "+(0,s.zw)(e.keyword),9,v)))),128))])]),(0,a._)("div",p,[(0,a._)("button",{type:"button",class:"btn btn-primary btn-sm rounded-5",disabled:""==N.value.length,onClick:Z},x,8,g)])]),1==J.value?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a._)("div",y,[f,(0,a._)("div",k,[(0,a._)("input",{class:"form-control",type:"text",value:K.value[j.value].login_eid,disabled:"",readonly:""},null,8,w)]),h,(0,a._)("div",H,[(0,a._)("input",{class:"form-control",type:"text",value:K.value[j.value].main_topic_name,disabled:"",readonly:""},null,8,D)])]),(0,a._)("div",C,[Y,(0,a._)("div",T,[(0,a._)("input",{class:"form-control",type:"text",value:K.value[j.value].date1,disabled:"",readonly:""},null,8,U)]),z,(0,a._)("div",A,[(0,a._)("input",{class:"form-control",type:"text",value:K.value[j.value].sub_topic_name,disabled:"",readonly:""},null,8,B)])]),(0,a._)("div",R,[q,(0,a._)("div",L,[(0,a._)("input",{class:"form-control",type:"text",value:K.value[j.value].keyword,disabled:"",readonly:""},null,8,S)]),(0,a._)("div",E,[""!=K.value[j.value].check2?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a.Uk)(" การมองเห็น "),(0,a._)("i",{class:(0,s.C_)("All"==K.value[j.value].check2?"bi bi-people-fill text-success":"bi bi-person-fill text-warning")},null,2)],64)):(0,a.kq)("",!0),(0,a.Uk)("  "),""!=K.value[j.value].open_register?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,a.Uk)(" เปิดลงทะเบียน "),(0,a._)("i",{class:(0,s.C_)("on"==K.value[j.value].open_register?"bi bi-circle-fill text-success":"bi bi-circle-fill text-danger")},null,2)],64)):(0,a.kq)("",!0),(0,a.Uk)("  "),""!=K.value[j.value].check1?((0,a.wg)(),(0,a.iD)(a.HY,{key:2},[(0,a.Uk)(" แนบภาพ "),(0,a._)("i",{class:(0,s.C_)("Yes"==K.value[j.value].check1?"bi bi-paperclip text-success":"bi bi-paperclip text-danger")},null,2)],64)):(0,a.kq)("",!0)])]),G,(0,a._)("div",I,[(0,a._)("div",M,[(0,a._)("textarea",{class:"form-control",value:K.value[j.value].detail,rows:"8",disabled:"",readonly:""},null,8,O)])])],64)):((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[],64)),F]))}};const N=K;var V=N}}]);
//# sourceMappingURL=867.ff70a942.js.map