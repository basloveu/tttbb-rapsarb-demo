"use strict";(self["webpackChunkrapsarb"]=self["webpackChunkrapsarb"]||[]).push([[964],{8964:function(e,l,t){t.r(l),t.d(l,{default:function(){return xe}});var a=t(3396),s=t(7139),o=t(9242),i=t(4870),c=t(2483),n=t(65);const d={class:"container text-center"},u=(0,a._)("div",{class:"row"},[(0,a._)("div",{class:"col"},"สร้างหัวข้อรับทราบ")],-1),r={class:"row"},m=(0,a._)("div",{class:"col-12 col-md-2"},null,-1),v={class:"col-12 col-md-8"},p={class:"position-relative m-4"},_={class:"progress",style:{height:"1px"}},b={class:"collapse multi1 show"},g={class:"row mt-2"},f=(0,a._)("div",{class:"col-12 col-md-3 mt-2 set_r"},"หัวข้อหลัก",-1),h={class:"col-12 col-md-3 mt-1"},w=(0,a._)("option",{value:"",disabled:""},"กรุณาเลือก",-1),y=["value"],k=(0,a._)("div",{class:"col-12 col-md-2 mt-2 set_r"},"หัวข้อย่อย",-1),x={class:"col-12 col-md-4 mt-1"},H=(0,a._)("option",{value:"",disabled:""},"กรุณาเลือก",-1),C=["value"],D={class:"row"},U=(0,a._)("div",{class:"col-12 col-md-3 mt-2 set_r"},"รายละเอียด",-1),M={class:"col-12 col-md-9 mt-1"},R={class:"row"},V=(0,a._)("div",{class:"col-12 col-md-3 mt-2 set_r"},"วันเริ่มต้น",-1),Y={class:"col-12 col-md-3 mt-1"},z=(0,a._)("div",{class:"col-12 col-md-1 mt-2 set_r"},"สิ้นสุด",-1),F={class:"col-6 col-md-3 mt-1"},P={class:"col-6 col-md-2 mt-2 set_l"},j={class:"form-check"},E=(0,a._)("label",{class:"form-check-label",for:"flexCheckDate"}," ไม่มีวันหมดอายุ ",-1),G={class:"row"},T=(0,a._)("div",{class:"col-12 col-md-3 mt-2 set_r"},"หัวข้อเรื่อง",-1),L={class:"col-12 col-md-3 mt-1"},N={class:"row mt-2"},O={class:"col-12 mt-1"},A={class:"d-grid gap-2 col-6 mx-auto"},I=["disabled"],S=(0,a._)("i",{class:"bi bi-chevron-right"},null,-1),q={class:"collapse multi1 multi2"},B={class:"row"},J={class:"col-12 col-md-12 mt-2 fw-bold set_c"},K=(0,a.uE)('<div class="row"><div class="col-12 col-md-12 mt-1 set_c"> แนบเอกสารที่เกี่ยวข้อง(ไม่บังคับ) <label class="text-danger">ขีดจำกัด 2 MB ต่อ 1 ไฟล์</label><br>แสดงผลเฉพาะ PDF,JPG,JPEG,PNG </div></div><div class="row"><div class="col-12 col-md-3 mt-1"></div><div class="col-12 col-md-6 mt-1 set_c"><div class="file-loading"><input id="input_file" name="input_file[]" type="file" accept=".jpg,.jpeg,.pdf,.png" multiple></div></div></div>',2),W={class:"row mt-2"},Z={class:"col-12 mt-1"},Q={class:"d-grid gap-2 col-6 mx-auto"},X=(0,a._)("i",{class:"bi bi-chevron-right"},null,-1),ee=(0,a._)("i",{class:"bi bi-chevron-left"},null,-1),le={class:"collapse multi2"},te={class:"row mt-2"},ae=(0,a._)("div",{class:"col-12 col-md-5 mt-1 set_r"},"ต้องแนบรูปภาพประกอบหรือไม่",-1),se={class:"col-12 col-md-4 mt-1 set_l"},oe={class:"form-check form-check-inline"},ie=(0,a._)("label",{class:"form-check-label",for:"inlineRadio1"},"ใช่",-1),ce={class:"form-check form-check-inline"},ne=(0,a._)("label",{class:"form-check-label",for:"inlineRadio2"},"ไม่",-1),de={class:"row mt-2"},ue=(0,a._)("div",{class:"col-12 col-md-5 mt-1 set_r"}," สิทธิในการเข้าดูรายละเอียดการลงทะเบียน ",-1),re={class:"col-12 col-md-4 mt-1 set_l"},me={class:"form-check form-check-inline"},ve=(0,a._)("label",{class:"form-check-label",for:"inlineRadio3"},"ทุกคน",-1),pe={class:"form-check form-check-inline"},_e=(0,a._)("label",{class:"form-check-label",for:"inlineRadio4"},"ผู้สร้างและผู้ลงทะเบียน",-1),be={class:"row mt-2"},ge={class:"col-12 mt-1"},fe={class:"d-grid gap-2 col-6 mx-auto"},he=(0,a._)("i",{class:"bi bi-check-lg"},null,-1),we=(0,a._)("i",{class:"bi bi-chevron-left"},null,-1);var ye={__name:"create_topic",setup(e){const l=(0,n.oR)(),t=((0,c.tv)(),(0,i.iH)("")),ye=(0,i.iH)(""),ke=(0,i.iH)(""),xe=(0,i.iH)(new Date),He=(0,i.iH)(new Date),Ce=(0,i.iH)(""),De=(0,i.iH)("No"),Ue=(0,i.iH)("Register"),Me=(0,i.iH)(""),Re=(0,i.iH)(""),Ve=(0,i.iH)(""),Ye=(0,i.iH)(""),ze=(0,i.iH)(""),Fe=(0,i.iH)(""),$e=(0,i.iH)(""),Pe=(0,i.iH)(""),je=(0,i.iH)("0"),Ee=(0,i.iH)("primary"),Ge=(0,i.iH)("secondary"),Te=(0,i.iH)("secondary"),Le=((0,i.iH)(null|File),(0,i.iH)(HTMLFormElement),(0,a.f3)("toast")),Ne=((0,a.f3)("gtr_name"),(0,a.f3)("gtr_path"));(0,a.bv)((()=>{Be(),qe(),Oe(new Date),Ve.value=Se()}));const Oe=e=>{Ye.value=e.getDate(),ze.value=e.getMonth()+1,Fe.value=e.getFullYear(),$e.value=e.getHours(),Pe.value=e.getMinutes()},Ae=()=>{ke.value="ทดสอบนำเข้าข้อมูล",t.value="2",ye.value="4",He.value="2050-12-31 23:59:59",De.value="No",Ue.value="All"},Ie=()=>{var e=(0,i.qj)({login_eid:encodeURIComponent(l.getters.get_eid),auto_num:Ve.value,m_topic:t.value,s_topic:ye.value,detail:ke.value,date1:moment(xe.value).format("YYYY-MM-DD HH:mm:ss"),date2:moment(He.value).format("YYYY-MM-DD HH:mm:ss"),check1:De.value,check2:Ue.value,latitude:Me.value,longitude:Re.value,keyword:Ce.value,register_no:l.getters.get_simulate_db.length+1});Le("แจ้งเตือน !","บันทึกเรียบร้อย","bg-success"),l.commit("change_simulate_db",e),setTimeout((()=>{Ne("qr_list_topic","qr_create_topic")}),1e3)},Se=()=>{var e="FILE"+Fe.value+ze.value+Ye.value+"-"+Math.floor(1e3+9e3*Math.random());return e},qe=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){Me.value=e.coords.latitude,Re.value=e.coords.longitude})):console.log("GeoLocation is Not Supported By This Browser.")},Be=()=>{$("#input_file").fileinput({theme:"bs5",allowedFileExtensions:["jpg","jpeg","png","xls","xlsx","pdf","doc","docx"],minFileCount:1,maxFileCount:6,overwriteInitial:!1,initialPreviewAsData:!0,maxFileSize:1e4,removeFromPreviewOnError:!0,preferIconicPreview:!1,previewFileExtSettings:{doc:function(e){return e.match(/(doc|docx)$/i)},xls:function(e){return e.match(/(xls|xlsx)$/i)},ppt:function(e){return e.match(/(ppt|pptx)$/i)},zip:function(e){return e.match(/(zip|rar|tar|gzip|gz|7z)$/i)},htm:function(e){return e.match(/(htm|html)$/i)},txt:function(e){return e.match(/(txt|ini|csv|java|php|js|css)$/i)},mov:function(e){return e.match(/(avi|mpg|mkv|mov|mp4|3gp|webm|wmv)$/i)},mp3:function(e){return e.match(/(mp3|wav)$/i)}},fileActionSettings:{showUpload:!1,showDownload:!1,showZoom:!1,showDrag:!0},uploadExtraData:function(){return{id:Ve.value,eid:l.getters.get_eid}},browseLabel:"เลือกไฟล์",browseClass:"btn btn-primary",uploadLabel:"อัพโหลด",uploadClass:"btn btn-success active",removeLabel:"ล้าง",removeClass:"btn btn-danger"}).on("filebatchpreupload",(function(e,l,t,a){var s=l.files.length;if(files=s>1?s+" ไฟล์":"1 ไฟล์",!window.confirm("คุณต้องการ อัพโหลดไฟล์ จำนวน "+files+"?"))return{message:"Upload aborted!",data:{}}})).on("fileuploaded",(function(e,l){"success"==l.response.success&&"yes"==l.response.upload?Le("แจ้งเตือน !","บันทึกไฟล์เรียบร้อย","bg-success"):"success"==l.response.success&&"yes"==l.response.upload?Le("แจ้งเตือน !","บันทึกไฟล์เรียบร้อย แต่บันทึกที่อยู่ไม่ได้","bg-warning"):Le("แจ้งเตือน !","ผิดพลาด","bg-danger")}))};return(e,l)=>{const i=(0,a.up)("VueDatePicker");return(0,a.wg)(),(0,a.iD)("div",d,[u,(0,a._)("div",r,[m,(0,a._)("div",v,[(0,a._)("div",p,[(0,a._)("div",_,[(0,a._)("div",{class:"progress-bar",style:(0,s.j5)("width:"+je.value+"%")},null,4)]),(0,a._)("button",{type:"button",class:(0,s.C_)("position-absolute top-0 start-0 translate-middle btn btn-sm btn-"+Ee.value+" rounded-pill")}," กำหนดหัวข้อ ",2),(0,a._)("button",{type:"button",class:(0,s.C_)("position-absolute top-0 start-50 translate-middle btn btn-sm btn-"+Ge.value+" rounded-pill")}," อัพโหลดไฟล์ ",2),(0,a._)("button",{type:"button",class:(0,s.C_)("position-absolute top-0 start-100 translate-middle btn btn-sm btn-"+Te.value+" rounded-pill")}," เงื่อนไข ",2)])])]),(0,a._)("div",b,[(0,a._)("div",g,[f,(0,a._)("div",h,[(0,a.wy)((0,a._)("select",{class:"form-select","onUpdate:modelValue":l[0]||(l[0]=e=>t.value=e)},[w,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.$store.getters.get_m_topic,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.key},(0,s.zw)(e.text),9,y)))),256))],512),[[o.bM,t.value]])]),k,(0,a._)("div",x,[(0,a.wy)((0,a._)("select",{class:"form-select","onUpdate:modelValue":l[1]||(l[1]=e=>ye.value=e)},[H,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.$store.getters.get_s_topic,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.key},(0,s.zw)(e.text),9,C)))),256))],512),[[o.bM,ye.value]])])]),(0,a._)("div",D,[U,(0,a._)("div",M,[(0,a.wy)((0,a._)("textarea",{class:"form-control",rows:"3","onUpdate:modelValue":l[2]||(l[2]=e=>ke.value=e)},null,512),[[o.nr,ke.value]])])]),(0,a._)("div",R,[V,(0,a._)("div",Y,[(0,a.Wm)(i,{modelValue:xe.value,"onUpdate:modelValue":l[3]||(l[3]=e=>xe.value=e),locale:"th",cancelText:"ยกเลิก",selectText:"เลือก","teleport-center":"",format:"dd-MM-yyyy HH:mm:ss"},{"calendar-header":(0,a.w5)((({index:e,day:l})=>[(0,a._)("div",{class:(0,s.C_)(5===e||6===e?"red-color":"")},(0,s.zw)(l),3)])),_:1},8,["modelValue"])]),z,(0,a._)("div",F,[(0,a.Wm)(i,{modelValue:He.value,"onUpdate:modelValue":l[4]||(l[4]=e=>He.value=e),locale:"th",cancelText:"ยกเลิก",selectText:"เลือก","teleport-center":"",format:"dd-MM-yyyy HH:mm:ss"},{"calendar-header":(0,a.w5)((({index:e,day:l})=>[(0,a._)("div",{class:(0,s.C_)(5===e||6===e?"red-color":"")},(0,s.zw)(l),3)])),_:1},8,["modelValue"])]),(0,a._)("div",P,[(0,a._)("div",j,[(0,a._)("input",{class:"form-check-input",type:"checkbox",id:"flexCheckDate",onClick:l[5]||(l[5]=e=>He.value="2050-12-31 23:59:59")}),E])])]),(0,a._)("div",G,[T,(0,a._)("div",L,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control","onUpdate:modelValue":l[6]||(l[6]=e=>Ce.value=e),placeholder:"คำที่ใช้ค้นหา"},null,512),[[o.nr,Ce.value]])])]),(0,a._)("div",N,[(0,a._)("div",O,[(0,a._)("div",A,[(0,a._)("button",{class:"btn btn-success",type:"button","data-bs-toggle":"collapse","data-bs-target":".multi1",onClick:l[7]||(l[7]=e=>[je.value=50,Ge.value="primary"]),disabled:""==t.value||""==ye.value||""==xe.value||""==He.value||""==De.value||""==Ue.value},[(0,a.Uk)(" ต่อไป "),S],8,I),(0,a._)("button",{class:"btn btn-secondary",type:"button",onClick:l[8]||(l[8]=e=>Ae())}," ข้อมูลทดสอบ ")])])])]),(0,a._)("div",q,[(0,a._)("div",B,[(0,a._)("div",J,(0,s.zw)(Ve.value),1)]),K,(0,a._)("div",W,[(0,a._)("div",Z,[(0,a._)("div",Q,[(0,a._)("button",{class:"btn btn-success",type:"button","data-bs-toggle":"collapse","data-bs-target":".multi2",onClick:l[9]||(l[9]=e=>[je.value=100,Te.value="primary"])},[(0,a.Uk)(" ต่อไป "),X]),(0,a._)("button",{class:"btn btn-dark",type:"button","data-bs-toggle":"collapse","data-bs-target":".multi1",onClick:l[10]||(l[10]=e=>[je.value=0,Ge.value="secondary",Te.value="secondary"])},[ee,(0,a.Uk)(" กลับ ")])])])])]),(0,a._)("div",le,[(0,a._)("div",te,[ae,(0,a._)("div",se,[(0,a._)("div",oe,[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions1",id:"inlineRadio1",value:"Yes","onUpdate:modelValue":l[11]||(l[11]=e=>De.value=e)},null,512),[[o.G2,De.value]]),ie]),(0,a._)("div",ce,[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions1",id:"inlineRadio2",value:"No","onUpdate:modelValue":l[12]||(l[12]=e=>De.value=e)},null,512),[[o.G2,De.value]]),ne])])]),(0,a._)("div",de,[ue,(0,a._)("div",re,[(0,a._)("div",me,[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions2",id:"inlineRadio3",value:"All","onUpdate:modelValue":l[13]||(l[13]=e=>Ue.value=e)},null,512),[[o.G2,Ue.value]]),ve]),(0,a._)("div",pe,[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions2",id:"inlineRadio4",value:"Register","onUpdate:modelValue":l[14]||(l[14]=e=>Ue.value=e)},null,512),[[o.G2,Ue.value]]),_e])])]),(0,a._)("div",be,[(0,a._)("div",ge,[(0,a._)("div",fe,[(0,a._)("button",{class:"btn btn-success",type:"button",onClick:Ie},[(0,a.Uk)(" บันทึก "),he]),(0,a._)("button",{class:"btn btn-dark",type:"button","data-bs-toggle":"collapse","data-bs-target":".multi2",onClick:l[15]||(l[15]=e=>[je.value=50,Te.value="secondary"])},[we,(0,a.Uk)(" กลับ ")])])])])])])}}};const ke=ye;var xe=ke}}]);
//# sourceMappingURL=964.4732d506.js.map